{"version":3,"file":"styleInject-c3042c68.js","sources":["../plugins/inject-styles/styleInject.js"],"sourcesContent":["// This is essentially a custom version of https://github.com/egoist/style-inject\n// with this issue fixed: https://github.com/egoist/style-inject/issues/23\n//\n// NOTE: because this file is not imported by any component in our build process,\n// it is not transpiled by typescript, etc, so it is written in es5\n\nexport default function styleInject(css) {\n  if (!css || typeof document === 'undefined') return; // allow turning off injection if only using criticalCss / SSR\n\n  if (window.injectThreadsStyles === false) return;\n  var INSERT_BEFORE_ID = 'threads-style-inject-insert-before';\n  var head = document.head || document.getElementsByTagName('head')[0]; // an empty style tag that is inserted at the top of the head and which all\n  // further styles are inserted before. This fixes the reverse insertion issue\n  // reported in https://github.com/egoist/style-inject/issues/23\n\n  var elementToInsertBefore = document.getElementById(INSERT_BEFORE_ID); // if this is the first injected style, we must create the marker element\n  // that we will use for all further injections\n\n  if (elementToInsertBefore == null) {\n    elementToInsertBefore = document.createElement('style');\n    elementToInsertBefore.id = INSERT_BEFORE_ID; // if there is already stuff in the head, put this first\n\n    if (head.firstChild) {\n      head.insertBefore(elementToInsertBefore, head.firstChild);\n    } else {\n      // if the head is empty, just insert this\n      head.appendChild(elementToInsertBefore);\n    }\n  }\n\n  var style = document.createElement('style');\n  style.type = 'text/css';\n  head.insertBefore(style, elementToInsertBefore);\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n"],"names":["css","document","window","injectThreadsStyles","INSERT_BEFORE_ID","head","getElementsByTagName","elementToInsertBefore","getElementById","createElement","id","firstChild","insertBefore","appendChild","style","type","styleSheet","cssText","createTextNode"],"mappings":"iCAMe,SAAqBA,GAClC,GAAKA,GAA2B,oBAAbC,WAEgB,IAA/BC,OAAOC,oBAAX,CACA,IAAIC,EAAmB,qCACnBC,EAAOJ,SAASI,MAAQJ,SAASK,qBAAqB,QAAQ,GAI9DC,EAAwBN,SAASO,eAAeJ,GAGvB,MAAzBG,KACFA,EAAwBN,SAASQ,cAAc,UACzBC,GAAKN,EAEvBC,EAAKM,WACPN,EAAKO,aAAaL,EAAuBF,EAAKM,YAG9CN,EAAKQ,YAAYN,IAIrB,IAAIO,EAAQb,SAASQ,cAAc,SACnCK,EAAMC,KAAO,WACbV,EAAKO,aAAaE,EAAOP,GAErBO,EAAME,WACRF,EAAME,WAAWC,QAAUjB,EAE3Bc,EAAMD,YAAYZ,SAASiB,eAAelB"}