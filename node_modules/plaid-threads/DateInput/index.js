"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../_tslib-63a8c591.js"),t=require("classnames"),n=require("moment-timezone"),o=require("rc-calendar"),a=require("core-js/library/fn/symbol/iterator"),r=require("core-js/library/fn/symbol"),i=require("core-js/library/fn/object/set-prototype-of"),l=require("core-js/library/fn/object/create"),u=require("react"),s=require("react-dom"),p=require("prop-types"),d=require("rc-util/lib/KeyCode"),c=require("babel-runtime/helpers/extends"),f=require("babel-runtime/helpers/classCallCheck"),h=require("babel-runtime/helpers/possibleConstructorReturn"),m=require("babel-runtime/helpers/inherits"),g=require("react-lifecycles-compat"),v=require("rc-util/lib/Dom/contains"),y=require("rc-util/lib/Dom/addEventListener"),b=require("rc-util/lib/ContainerRender"),C=require("rc-util/lib/Portal"),_=require("rc-align"),x=require("rc-animate"),w=require("babel-runtime/helpers/objectWithoutProperties"),D=require("../Icons/Calendar.js"),M=require("../Icons/ChevronS1Down.js"),T=require("../TextInput/index.js"),P=require("../IconButton/index.js"),N=require("../styleInject-c3042c68.js");function S(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("rc-calendar/assets/index.css"),require("../Icons.module-3a3f2c15.js"),require("../BaseInput/index.js"),require("../Icons/AlertError.js"),require("../BaseInput.module-cf58b553.js"),require("../Touchable/index.js"),require("../Tooltip/index.js"),require("react-popper");var E=S(t),k=S(n),O=S(o),I=S(a),A=S(r),U=S(i),V=S(l),H=S(u),F=S(s),j=S(p),q=S(d),R=S(c),B=S(f),L=S(h),G=S(m),W=S(g),Y=S(v),z=S(y),K=S(b),X=S(C),Z=S(_),J=S(x),Q=S(w);function $(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ee={exports:{}};!function(e,t){t.__esModule=!0,t.default={today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},e.exports=t.default}(ee,ee.exports);var te=$(ee.exports),ne={exports:{}},oe={__esModule:!0,default:function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},ae={},re={},ie={exports:{}};$(ie.exports={default:I.default,__esModule:!0});var le={exports:{}};$(le.exports={default:A.default,__esModule:!0}),re.__esModule=!0;var ue=de(ie.exports),se=de(le.exports),pe="function"==typeof se.default&&"symbol"==typeof ue.default?function(e){return typeof e}:function(e){return e&&"function"==typeof se.default&&e.constructor===se.default&&e!==se.default.prototype?"symbol":typeof e};function de(e){return e&&e.__esModule?e:{default:e}}re.default="function"==typeof se.default&&"symbol"===pe(ue.default)?function(e){return void 0===e?"undefined":pe(e)}:function(e){return e&&"function"==typeof se.default&&e.constructor===se.default&&e!==se.default.prototype?"symbol":void 0===e?"undefined":pe(e)},ae.__esModule=!0;var ce,fe=(ce=re)&&ce.__esModule?ce:{default:ce};ae.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,fe.default)(t))&&"function"!=typeof t?e:t};var he={},me={exports:{}};$(me.exports={default:U.default,__esModule:!0});var ge={exports:{}};$(ge.exports={default:V.default,__esModule:!0}),he.__esModule=!0;var ve=Ce(me.exports),ye=Ce(ge.exports),be=Ce(re);function Ce(e){return e&&e.__esModule?e:{default:e}}he.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,be.default)(t)));e.prototype=(0,ye.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(ve.default?(0,ve.default)(e,t):e.__proto__=t)};var _e={};function xe(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function we(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function De(e,t){try{var n=this.props,o=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}Object.defineProperty(_e,"__esModule",{value:!0}),xe.__suppressDeprecationWarning=!0,we.__suppressDeprecationWarning=!0,De.__suppressDeprecationWarning=!0,_e.polyfill=function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,a=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?a="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(a="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==a){var r=e.displayName||e.name,i="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+r+" uses "+i+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==a?"\n  "+a:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=xe,t.componentWillReceiveProps=we),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=De;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var o=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,o)}}return e};var Me={};Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=function(){var e=[].slice.call(arguments,0);if(1===e.length)return e[0];return function(){for(var t=0;t<e.length;t++)e[t]&&e[t].apply&&e[t].apply(this,arguments)}};var Te={exports:{}};!function(e,t){t.__esModule=!0;var n={adjustX:1,adjustY:1},o=[0,0],a={bottomLeft:{points:["tl","tl"],overflow:n,offset:[0,-3],targetOffset:o},bottomRight:{points:["tr","tr"],overflow:n,offset:[0,-3],targetOffset:o},topRight:{points:["br","br"],overflow:n,offset:[0,3],targetOffset:o},topLeft:{points:["bl","bl"],overflow:n,offset:[0,3],targetOffset:o}};t.default=a,e.exports=t.default}(Te,Te.exports),$(Te.exports);var Pe={exports:{}},Ne={__esModule:!0},Se=function(e){return e&&e.__esModule?e:{default:e}}(R.default);function Ee(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}Ne.getAlignFromPlacement=function(e,t,n){var o=e[t]||{};return(0,Se.default)({},o,n)},Ne.getAlignPopupClassName=function(e,t,n,o){var a=n.points;for(var r in e)if(e.hasOwnProperty(r)&&Ee(e[r].points,a,o))return t+"-placement-"+r;return""},Ne.saveRef=function(e,t){this[e]=t};var ke={exports:{}},Oe={exports:{}},Ie={exports:{}};!function(e,t){t.__esModule=!0;var n=s(Q.default),o=s(B.default),a=s(L.default),r=s(G.default),i=H.default,l=s(i),u=s(j.default);function s(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,e.apply(this,arguments))}return(0,r.default)(t,e),t.prototype.shouldComponentUpdate=function(e){return e.hiddenClassName||e.visible},t.prototype.render=function(){var e=this.props,t=e.hiddenClassName,o=e.visible,a=(0,n.default)(e,["hiddenClassName","visible"]);return t||l.default.Children.count(a.children)>1?(!o&&t&&(a.className+=" "+t),l.default.createElement("div",a)):l.default.Children.only(a.children)},t}(i.Component);p.propTypes={children:u.default.any,className:u.default.string,visible:u.default.bool,hiddenClassName:u.default.string},t.default=p,e.exports=t.default}(Ie,Ie.exports),$(Ie.exports),function(e,t){t.__esModule=!0;var n=s(B.default),o=s(L.default),a=s(G.default),r=H.default,i=s(r),l=s(j.default),u=s(Ie.exports);function s(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return(0,n.default)(this,t),(0,o.default)(this,e.apply(this,arguments))}return(0,a.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.className;return e.visible||(t+=" "+e.hiddenClassName),i.default.createElement("div",{className:t,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,onTouchStart:e.onTouchStart,style:e.style},i.default.createElement(u.default,{className:e.prefixCls+"-content",visible:e.visible},e.children))},t}(r.Component);p.propTypes={hiddenClassName:l.default.string,className:l.default.string,prefixCls:l.default.string,onMouseEnter:l.default.func,onMouseLeave:l.default.func,onMouseDown:l.default.func,onTouchStart:l.default.func,children:l.default.any},t.default=p,e.exports=t.default}(Oe,Oe.exports),$(Oe.exports),function(e,t){t.__esModule=!0;var n=m(R.default),o=m(B.default),a=m(L.default),r=m(G.default),i=H.default,l=m(i),u=m(j.default),s=m(F.default),p=m(Z.default),d=m(J.default),c=m(Oe.exports),f=m(Ie.exports),h=Ne;function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(n){(0,o.default)(this,t);var r=(0,a.default)(this,e.call(this,n));return v.call(r),r.state={stretchChecked:!1,targetWidth:void 0,targetHeight:void 0},r.savePopupRef=h.saveRef.bind(r,"popupInstance"),r.saveAlignRef=h.saveRef.bind(r,"alignInstance"),r}return(0,r.default)(t,e),t.prototype.componentDidMount=function(){this.rootNode=this.getPopupDomNode(),this.setStretchSize()},t.prototype.componentDidUpdate=function(){this.setStretchSize()},t.prototype.getPopupDomNode=function(){return s.default.findDOMNode(this.popupInstance)},t.prototype.getMaskTransitionName=function(){var e=this.props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+"-"+n),t},t.prototype.getTransitionName=function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t},t.prototype.getClassName=function(e){return this.props.prefixCls+" "+this.props.className+" "+e},t.prototype.getPopupElement=function(){var e=this,t=this.savePopupRef,o=this.state,a=o.stretchChecked,r=o.targetHeight,i=o.targetWidth,u=this.props,s=u.align,f=u.visible,h=u.prefixCls,m=u.style,g=u.getClassNameFromAlign,v=u.destroyPopupOnHide,y=u.stretch,b=u.children,C=u.onMouseEnter,_=u.onMouseLeave,x=u.onMouseDown,w=u.onTouchStart,D=this.getClassName(this.currentAlignClassName||g(s)),M=h+"-hidden";f||(this.currentAlignClassName=null);var T={};y&&(-1!==y.indexOf("height")?T.height=r:-1!==y.indexOf("minHeight")&&(T.minHeight=r),-1!==y.indexOf("width")?T.width=i:-1!==y.indexOf("minWidth")&&(T.minWidth=i),a||(T.visibility="hidden",setTimeout((function(){e.alignInstance&&e.alignInstance.forceAlign()}),0)));var P={className:D,prefixCls:h,ref:t,onMouseEnter:C,onMouseLeave:_,onMouseDown:x,onTouchStart:w,style:(0,n.default)({},T,m,this.getZIndexStyle())};return v?l.default.createElement(d.default,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName()},f?l.default.createElement(p.default,{target:this.getAlignTarget(),key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,align:s,onAlign:this.onAlign},l.default.createElement(c.default,(0,n.default)({visible:!0},P),b)):null):l.default.createElement(d.default,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName(),showProp:"xVisible"},l.default.createElement(p.default,{target:this.getAlignTarget(),key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,xVisible:f,childrenProps:{visible:"xVisible"},disabled:!f,align:s,onAlign:this.onAlign},l.default.createElement(c.default,(0,n.default)({hiddenClassName:M},P),b)))},t.prototype.getZIndexStyle=function(){var e={},t=this.props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),e},t.prototype.getMaskElement=function(){var e=this.props,t=void 0;if(e.mask){var n=this.getMaskTransitionName();t=l.default.createElement(f.default,{style:this.getZIndexStyle(),key:"mask",className:e.prefixCls+"-mask",hiddenClassName:e.prefixCls+"-mask-hidden",visible:e.visible}),n&&(t=l.default.createElement(d.default,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},t))}return t},t.prototype.render=function(){return l.default.createElement("div",null,this.getMaskElement(),this.getPopupElement())},t}(i.Component);g.propTypes={visible:u.default.bool,style:u.default.object,getClassNameFromAlign:u.default.func,onAlign:u.default.func,getRootDomNode:u.default.func,align:u.default.any,destroyPopupOnHide:u.default.bool,className:u.default.string,prefixCls:u.default.string,onMouseEnter:u.default.func,onMouseLeave:u.default.func,onMouseDown:u.default.func,onTouchStart:u.default.func,stretch:u.default.string,children:u.default.node,point:u.default.shape({pageX:u.default.number,pageY:u.default.number})};var v=function(){var e=this;this.onAlign=function(t,n){var o=e.props,a=o.getClassNameFromAlign(n);e.currentAlignClassName!==a&&(e.currentAlignClassName=a,t.className=e.getClassName(a)),o.onAlign(t,n)},this.setStretchSize=function(){var t=e.props,n=t.stretch,o=t.getRootDomNode,a=t.visible,r=e.state,i=r.stretchChecked,l=r.targetHeight,u=r.targetWidth;if(n&&a){var s=o();if(s){var p=s.offsetHeight,d=s.offsetWidth;l===p&&u===d&&i||e.setState({stretchChecked:!0,targetHeight:p,targetWidth:d})}}else i&&e.setState({stretchChecked:!1})},this.getTargetElement=function(){return e.props.getRootDomNode()},this.getAlignTarget=function(){var t=e.props.point;return t||e.getTargetElement}};t.default=g,e.exports=t.default}(ke,ke.exports),$(ke.exports),function(e,t){t.__esModule=!0;var n=v(R.default),o=v(B.default),a=v(L.default),r=v(G.default),i=v(H.default),l=v(j.default),u=F.default,s=W.default,p=v(Y.default),d=v(z.default),c=v(K.default),f=v(X.default),h=v(E.default),m=Ne,g=v(ke.exports);function v(e){return e&&e.__esModule?e:{default:e}}function y(){}var b=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"],C=!!u.createPortal,_={rcTrigger:l.default.shape({onPopupMouseDown:l.default.func})},x=function(e){function t(n){(0,o.default)(this,t);var r=(0,a.default)(this,e.call(this,n));w.call(r);var i=void 0;return i="popupVisible"in n?!!n.popupVisible:!!n.defaultPopupVisible,r.state={prevPopupVisible:i,popupVisible:i},b.forEach((function(e){r["fire"+e]=function(t){r.fireEvents(e,t)}})),r}return(0,r.default)(t,e),t.prototype.getChildContext=function(){return{rcTrigger:{onPopupMouseDown:this.onPopupMouseDown}}},t.prototype.componentDidMount=function(){this.componentDidUpdate({},{popupVisible:this.state.popupVisible})},t.prototype.componentDidUpdate=function(e,t){var n=this.props,o=this.state;if(C||this.renderComponent(null,(function(){t.popupVisible!==o.popupVisible&&n.afterPopupVisibleChange(o.popupVisible)})),o.popupVisible){var a=void 0;return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(a=n.getDocument(),this.clickOutsideHandler=(0,d.default)(a,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(a=a||n.getDocument(),this.touchOutsideHandler=(0,d.default)(a,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(a=a||n.getDocument(),this.contextMenuOutsideHandler1=(0,d.default)(a,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=(0,d.default)(window,"blur",this.onContextMenuClose)))}this.clearOutsideHandler()},t.prototype.componentWillUnmount=function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout)},t.getDerivedStateFromProps=function(e,t){var n=e.popupVisible,o={};return void 0!==n&&t.popupVisible!==n&&(o.popupVisible=n,o.prevPopupVisible=t.popupVisible),o},t.prototype.getPopupDomNode=function(){return this._component&&this._component.getPopupDomNode?this._component.getPopupDomNode():null},t.prototype.getPopupAlign=function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,o=e.builtinPlacements;return t&&o?(0,m.getAlignFromPlacement)(o,t,n):n},t.prototype.setPopupVisible=function(e,t){var n=this.props.alignPoint,o=this.state.popupVisible;this.clearDelayTimer(),o!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:o}),this.props.onPopupVisibleChange(e)),n&&t&&this.setPoint(t)},t.prototype.delaySetPopupVisible=function(e,t,n){var o=this,a=1e3*t;if(this.clearDelayTimer(),a){var r=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=setTimeout((function(){o.setPopupVisible(e,r),o.clearDelayTimer()}),a)}else this.setPopupVisible(e,n)},t.prototype.clearDelayTimer=function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},t.prototype.clearOutsideHandler=function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},t.prototype.createTwoChains=function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire"+e]:t[e]||n[e]},t.prototype.isClickToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},t.prototype.isContextMenuToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")},t.prototype.isClickToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},t.prototype.isMouseEnterToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")},t.prototype.isMouseLeaveToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")},t.prototype.isFocusToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")},t.prototype.isBlurToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")},t.prototype.forcePopupAlign=function(){this.state.popupVisible&&this._component&&this._component.alignInstance&&this._component.alignInstance.forceAlign()},t.prototype.fireEvents=function(e,t){var n=this.props.children.props[e];n&&n(t);var o=this.props[e];o&&o(t)},t.prototype.close=function(){this.setPopupVisible(!1)},t.prototype.render=function(){var e=this,t=this.state.popupVisible,n=this.props,o=n.children,a=n.forceRender,r=n.alignPoint,l=n.className,u=i.default.Children.only(o),s={key:"trigger"};this.isContextMenuToShow()?s.onContextMenu=this.onContextMenu:s.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(s.onClick=this.onClick,s.onMouseDown=this.onMouseDown,s.onTouchStart=this.onTouchStart):(s.onClick=this.createTwoChains("onClick"),s.onMouseDown=this.createTwoChains("onMouseDown"),s.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(s.onMouseEnter=this.onMouseEnter,r&&(s.onMouseMove=this.onMouseMove)):s.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?s.onMouseLeave=this.onMouseLeave:s.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(s.onFocus=this.onFocus,s.onBlur=this.onBlur):(s.onFocus=this.createTwoChains("onFocus"),s.onBlur=this.createTwoChains("onBlur"));var p=(0,h.default)(u&&u.props&&u.props.className,l);p&&(s.className=p);var d=i.default.cloneElement(u,s);if(!C)return i.default.createElement(c.default,{parent:this,visible:t,autoMount:!1,forceRender:a,getComponent:this.getComponent,getContainer:this.getContainer},(function(t){var n=t.renderComponent;return e.renderComponent=n,d}));var m=void 0;return(t||this._component||a)&&(m=i.default.createElement(f.default,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),[d,m]},t}(i.default.Component);x.propTypes={children:l.default.any,action:l.default.oneOfType([l.default.string,l.default.arrayOf(l.default.string)]),showAction:l.default.any,hideAction:l.default.any,getPopupClassNameFromAlign:l.default.any,onPopupVisibleChange:l.default.func,afterPopupVisibleChange:l.default.func,popup:l.default.oneOfType([l.default.node,l.default.func]).isRequired,popupStyle:l.default.object,prefixCls:l.default.string,popupClassName:l.default.string,className:l.default.string,popupPlacement:l.default.string,builtinPlacements:l.default.object,popupTransitionName:l.default.oneOfType([l.default.string,l.default.object]),popupAnimation:l.default.any,mouseEnterDelay:l.default.number,mouseLeaveDelay:l.default.number,zIndex:l.default.number,focusDelay:l.default.number,blurDelay:l.default.number,getPopupContainer:l.default.func,getDocument:l.default.func,forceRender:l.default.bool,destroyPopupOnHide:l.default.bool,mask:l.default.bool,maskClosable:l.default.bool,onPopupAlign:l.default.func,popupAlign:l.default.object,popupVisible:l.default.bool,defaultPopupVisible:l.default.bool,maskTransitionName:l.default.oneOfType([l.default.string,l.default.object]),maskAnimation:l.default.string,stretch:l.default.string,alignPoint:l.default.bool},x.contextTypes=_,x.childContextTypes=_,x.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:function(){return""},getDocument:function(){return window.document},onPopupVisibleChange:y,afterPopupVisibleChange:y,onPopupAlign:y,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[]};var w=function(){var e=this;this.onMouseEnter=function(t){var n=e.props.mouseEnterDelay;e.fireEvents("onMouseEnter",t),e.delaySetPopupVisible(!0,n,n?null:t)},this.onMouseMove=function(t){e.fireEvents("onMouseMove",t),e.setPoint(t)},this.onMouseLeave=function(t){e.fireEvents("onMouseLeave",t),e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},this.onPopupMouseEnter=function(){e.clearDelayTimer()},this.onPopupMouseLeave=function(t){t.relatedTarget&&!t.relatedTarget.setTimeout&&e._component&&e._component.getPopupDomNode&&(0,p.default)(e._component.getPopupDomNode(),t.relatedTarget)||e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},this.onFocus=function(t){e.fireEvents("onFocus",t),e.clearDelayTimer(),e.isFocusToShow()&&(e.focusTime=Date.now(),e.delaySetPopupVisible(!0,e.props.focusDelay))},this.onMouseDown=function(t){e.fireEvents("onMouseDown",t),e.preClickTime=Date.now()},this.onTouchStart=function(t){e.fireEvents("onTouchStart",t),e.preTouchTime=Date.now()},this.onBlur=function(t){e.fireEvents("onBlur",t),e.clearDelayTimer(),e.isBlurToHide()&&e.delaySetPopupVisible(!1,e.props.blurDelay)},this.onContextMenu=function(t){t.preventDefault(),e.fireEvents("onContextMenu",t),e.setPopupVisible(!0,t)},this.onContextMenuClose=function(){e.isContextMenuToShow()&&e.close()},this.onClick=function(t){if(e.fireEvents("onClick",t),e.focusTime){var n=void 0;if(e.preClickTime&&e.preTouchTime?n=Math.min(e.preClickTime,e.preTouchTime):e.preClickTime?n=e.preClickTime:e.preTouchTime&&(n=e.preTouchTime),Math.abs(n-e.focusTime)<20)return;e.focusTime=0}e.preClickTime=0,e.preTouchTime=0,e.isClickToShow()&&(e.isClickToHide()||e.isBlurToHide())&&t&&t.preventDefault&&t.preventDefault();var o=!e.state.popupVisible;(e.isClickToHide()&&!o||o&&e.isClickToShow())&&e.setPopupVisible(!e.state.popupVisible,t)},this.onPopupMouseDown=function(){var t=e.context.rcTrigger,n=void 0===t?{}:t;e.hasPopupMouseDown=!0,clearTimeout(e.mouseDownTimeout),e.mouseDownTimeout=setTimeout((function(){e.hasPopupMouseDown=!1}),0),n.onPopupMouseDown&&n.onPopupMouseDown.apply(n,arguments)},this.onDocumentClick=function(t){if(!e.props.mask||e.props.maskClosable){var n=t.target,o=(0,u.findDOMNode)(e);(0,p.default)(o,n)||e.hasPopupMouseDown||e.close()}},this.getRootDomNode=function(){return(0,u.findDOMNode)(e)},this.getPopupClassNameFromAlign=function(t){var n=[],o=e.props,a=o.popupPlacement,r=o.builtinPlacements,i=o.prefixCls,l=o.alignPoint,u=o.getPopupClassNameFromAlign;return a&&r&&n.push((0,m.getAlignPopupClassName)(r,i,t,l)),u&&n.push(u(t)),n.join(" ")},this.getComponent=function(){var t=e.props,o=t.prefixCls,a=t.destroyPopupOnHide,r=t.popupClassName,l=t.action,u=t.onPopupAlign,s=t.popupAnimation,p=t.popupTransitionName,d=t.popupStyle,c=t.mask,f=t.maskAnimation,h=t.maskTransitionName,m=t.zIndex,v=t.popup,y=t.stretch,b=t.alignPoint,C=e.state,_=C.popupVisible,x=C.point,w=e.getPopupAlign(),D={};return e.isMouseEnterToShow()&&(D.onMouseEnter=e.onPopupMouseEnter),e.isMouseLeaveToHide()&&(D.onMouseLeave=e.onPopupMouseLeave),D.onMouseDown=e.onPopupMouseDown,D.onTouchStart=e.onPopupMouseDown,i.default.createElement(g.default,(0,n.default)({prefixCls:o,destroyPopupOnHide:a,visible:_,point:b&&x,className:r,action:l,align:w,onAlign:u,animation:s,getClassNameFromAlign:e.getPopupClassNameFromAlign},D,{stretch:y,getRootDomNode:e.getRootDomNode,style:d,mask:c,zIndex:m,transitionName:p,maskAnimation:f,maskTransitionName:h,ref:e.savePopup}),"function"==typeof v?v():v)},this.getContainer=function(){var t=e.props,n=document.createElement("div");return n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",(t.getPopupContainer?t.getPopupContainer((0,u.findDOMNode)(e)):t.getDocument().body).appendChild(n),n},this.setPoint=function(t){e.props.alignPoint&&t&&e.setState({point:{pageX:t.pageX,pageY:t.pageY}})},this.handlePortalUpdate=function(){e.state.prevPopupVisible!==e.state.popupVisible&&e.props.afterPopupVisibleChange(e.state.popupVisible)},this.savePopup=function(t){e._component=t}};(0,s.polyfill)(x),t.default=x,e.exports=t.default}(Pe,Pe.exports),$(Pe.exports),function(e,t){t.__esModule=!0;var n=f(oe),o=f(ae),a=f(he),r=f(H.default),i=f(F.default),l=f(j.default),u=_e,s=f(Me),p=f(q.default),d=f(Te.exports),c=f(Pe.exports);function f(e){return e&&e.__esModule?e:{default:e}}function h(){}function m(e,t){this[e]=t}var g=function(e){function t(a){(0,n.default)(this,t);var r=(0,o.default)(this,e.call(this,a));v.call(r);var i=void 0;i="open"in a?a.open:a.defaultOpen;var l=a.value||a.defaultValue;return r.saveCalendarRef=m.bind(r,"calendarInstance"),r.state={open:i,value:l},r}return(0,a.default)(t,e),t.prototype.componentDidUpdate=function(e,t){!t.open&&this.state.open&&(this.focusTimeout=setTimeout(this.focusCalendar,0,this))},t.prototype.componentWillUnmount=function(){clearTimeout(this.focusTimeout)},t.getDerivedStateFromProps=function(e){var t={},n=e.value,o=e.open;return"value"in e&&(t.value=n),void 0!==o&&(t.open=o),t},t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.placement,o=e.style,a=e.getCalendarContainer,i=e.align,l=e.animation,u=e.disabled,s=e.dropdownClassName,p=e.transitionName,f=e.children,h=this.state;return r.default.createElement(c.default,{popup:this.getCalendarElement(),popupAlign:i,builtinPlacements:d.default,popupPlacement:n,action:u&&!h.open?[]:["click"],destroyPopupOnHide:!0,getPopupContainer:a,popupStyle:o,popupAnimation:l,popupTransitionName:p,popupVisible:h.open,onPopupVisibleChange:this.onVisibleChange,prefixCls:t,popupClassName:s},r.default.cloneElement(f(h,e),{onKeyDown:this.onKeyDown}))},t}(r.default.Component);g.propTypes={animation:l.default.oneOfType([l.default.func,l.default.string]),disabled:l.default.bool,transitionName:l.default.string,onChange:l.default.func,onOpenChange:l.default.func,children:l.default.func,getCalendarContainer:l.default.func,calendar:l.default.element,style:l.default.object,open:l.default.bool,defaultOpen:l.default.bool,prefixCls:l.default.string,placement:l.default.any,value:l.default.oneOfType([l.default.object,l.default.array]),defaultValue:l.default.oneOfType([l.default.object,l.default.array]),align:l.default.object,dateRender:l.default.func,onBlur:l.default.func},g.defaultProps={prefixCls:"rc-calendar-picker",style:{},align:{},placement:"bottomLeft",defaultOpen:!1,onChange:h,onOpenChange:h,onBlur:h};var v=function(){var e=this;this.onCalendarKeyDown=function(t){t.keyCode===p.default.ESC&&(t.stopPropagation(),e.close(e.focus))},this.onCalendarSelect=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.props;"value"in o||e.setState({value:t}),("keyboard"===n.source||"dateInputSelect"===n.source||!o.calendar.props.timePicker&&"dateInput"!==n.source||"todayButton"===n.source)&&e.close(e.focus),o.onChange(t)},this.onKeyDown=function(t){e.state.open||t.keyCode!==p.default.DOWN&&t.keyCode!==p.default.ENTER||(e.open(),t.preventDefault())},this.onCalendarOk=function(){e.close(e.focus)},this.onCalendarClear=function(){e.close(e.focus)},this.onCalendarBlur=function(){e.setOpen(!1)},this.onVisibleChange=function(t){e.setOpen(t)},this.getCalendarElement=function(){var t=e.props,n=e.state,o=t.calendar.props,a=n.value,i=a,l={ref:e.saveCalendarRef,defaultValue:i||o.defaultValue,selectedValue:a,onKeyDown:e.onCalendarKeyDown,onOk:(0,s.default)(o.onOk,e.onCalendarOk),onSelect:(0,s.default)(o.onSelect,e.onCalendarSelect),onClear:(0,s.default)(o.onClear,e.onCalendarClear),onBlur:(0,s.default)(o.onBlur,e.onCalendarBlur)};return r.default.cloneElement(t.calendar,l)},this.setOpen=function(t,n){var o=e.props.onOpenChange;e.state.open!==t&&("open"in e.props||e.setState({open:t},n),o(t))},this.open=function(t){e.setOpen(!0,t)},this.close=function(t){e.setOpen(!1,t)},this.focus=function(){e.state.open||i.default.findDOMNode(e).focus()},this.focusCalendar=function(){e.state.open&&e.calendarInstance&&e.calendarInstance.focus()}};(0,u.polyfill)(g),t.default=g,e.exports=t.default}(ne,ne.exports);var Ae=$(ne.exports),Ue={_getCss:function(){return Ve},dateInput:"DateInput-module_dateInput__2NNSt",wrapper:"DateInput-module_wrapper__2oGUg","rc-calendar-disabled-cell":"DateInput-module_rc-calendar-disabled-cell__1pao6"},Ve="@charset \"UTF-8\";\n/*\n * \n * 🚧 THIS FILE HAS BEEN DEPRECATED 🚧\n * \n * We are migrating from Sass variables to CSS Custom Properties (aka CSS variables: https: //developer.mozilla.org/en-US/docs/Web/CSS/--*).\n * This file will be in maintenance mode until the migration is complete and will remove after that. \n * \n * Please use the color tokens found in _tokens.scss.\n * \n * If there are any questions, reach out to us in #threads-open slack channel.\n * \n */\n.DateInput-module_dateInput__2NNSt {\n  cursor: pointer;\n  position: relative;\n}\n\n.DateInput-module_wrapper__2oGUg {\n  position: relative;\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar-picker {\n  z-index: 10000;\n  width: 28.8rem;\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar {\n  border: 1px solid var(--color-border-state-focused);\n  border-radius: 0.2rem;\n  box-shadow: 0 0.2rem 0.4rem 0 rgba(17, 17, 17, 0.08);\n  margin-top: 0.3rem;\n  padding-bottom: 2.4rem;\n  padding-left: 3.2rem;\n  padding-right: 3.2rem;\n  padding-top: 1.2rem;\n  width: 28.8rem;\n  position: relative;\n  outline: none;\n  list-style: none;\n  text-align: center;\n  background-color: var(--color-fill-bg-primary);\n  background-clip: padding-box;\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-header {\n  border-bottom: 0;\n  height: 2.4rem;\n  line-height: 2.4rem;\n  margin-bottom: 1.2rem;\n  padding-bottom: 0;\n  padding-top: 0;\n  text-align: center;\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-panel,\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-date-panel {\n  position: relative;\n  outline: none;\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-prev-year-btn,\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-next-year-btn {\n  display: none;\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-next-month-btn {\n  right: 0;\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-next-month-btn:after {\n  content: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Crect width='24' height='24'/%3E%3Cpolygon fill='%23111' points='11.55 15.54 10.49 14.48 12.96 12.01 10.49 9.54 11.55 8.48 15.08 12.01'/%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-prev-month-btn {\n  left: 0;\n  cursor: pointer;\n  position: absolute;\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-prev-month-btn:after {\n  content: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Crect width='24' height='24'/%3E%3Cpolygon fill='%23111' points='12.45 15.52 8.92 11.99 12.45 8.46 13.51 9.52 11.04 11.99 13.51 14.46'/%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-next-month-btn,\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-prev-month-btn {\n  color: var(--color-fill-default);\n  line-height: 2.08rem;\n  width: 2.4rem;\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-next-month-btn:hover:after,\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-prev-month-btn:hover:after {\n  color: var(--color-fill-state-hover);\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-month-select,\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-year-select {\n  color: var(--color-fill-default);\n  cursor: default;\n  font-size: 1.6rem;\n  font-weight: normal;\n  line-height: 2.4rem;\n  pointer-events: none;\n  display: inline-block;\n  padding-top: 0;\n  padding-right: 0.8rem;\n  padding-bottom: 0;\n  padding-left: 0.8rem;\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-year-select {\n  padding-left: 0;\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-my-select {\n  display: block;\n  height: 2.4rem;\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-tbody tr {\n  border-bottom: 0;\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-column-header {\n  font-size: 1.2rem;\n  letter-spacing: 0.25px;\n  text-transform: uppercase;\n  font-weight: normal;\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-body {\n  height: unset;\n  padding: 0;\n  width: 22.4rem;\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-cell {\n  padding: 0;\n  vertical-align: top;\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-date {\n  border: 1px solid rgba(0, 0, 0, 0);\n  border-radius: 0.2rem;\n  color: #111111;\n  font-size: 1.4rem;\n  font-weight: 500;\n  height: 2.4rem;\n  line-height: 2.4rem;\n  margin-bottom: 0.4rem;\n  margin-left: 0.4rem;\n  margin-right: 0.4rem;\n  margin-top: 0;\n  transition-duration: 50ms;\n  transition-property: border-color, color, background-color;\n  transition-timing-function: ease-in-out;\n  width: 2.4rem;\n  cursor: pointer;\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-date:hover {\n  background: var(--color-fill-bg-primary);\n  border: 1px solid var(--color-border-state-hover);\n  color: var(--color-text-state-hover);\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-next-month-btn-day .rc-calendar-date,\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-last-month-cell .rc-calendar-date {\n  color: #ededed;\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-disabled-cell .rc-calendar-date {\n  background: var(--color-fill-bg-secondary);\n  color: var(--color-text-state-disabled);\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-disabled-cell .rc-calendar-date:hover {\n  border: 1px solid transparent;\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-today .rc-calendar-date {\n  border-color: var(--color-border-state-hover);\n  color: var(----color-text-state-hover);\n}\n.DateInput-module_wrapper__2oGUg .rc-calendar .rc-calendar-selected-day:not(.DateInput-module_rc-calendar-disabled-cell__1pao6) .rc-calendar-date {\n  background: var(--color-fill-bg-inverse);\n  border: 1px solid var(--color-border-state-filled);\n  color: var(--color-text-inverse-high-contrast);\n}";N.styleInject(Ve);var He=function(t){var n=H.default.useRef(null),o=null!=t.value&&k.default(t.value).isValid()?k.default(t.value):null;return H.default.createElement(Ae,e.__assign({},t,{dropdownClassName:E.default(Ue.wrapper,t.pickerClassName),calendar:H.default.createElement(O.default,{className:t.calendarClassName,locale:te,disabledDate:t.disabledDate,showDateInput:!1,showToday:!1,style:{top:"3px"}}),value:o,getCalendarContainer:function(){return n.current},onOpenChange:function(e){e||null==t.onBlur||t.onBlur(null)}}),(function(e){return H.default.createElement("div",{className:E.default(t.className)},H.default.createElement(T.TextInput,{className:E.default(Ue.dateInput,t.inputClassName),prefix:function(){return H.default.createElement(D.Calendar,null)},iconButtons:[H.default.createElement(P.IconButton,{accessibilityLabel:"Open date picker",icon:H.default.createElement(M.ChevronS1Down,null)})],id:t.id,name:t.name,placeholder:t.placeholder,label:t.label||"",errorMessage:t.errorMessage,onChange:function(){return null},value:e.value&&e.value.format&&e.value.format("YYYY-MM-DD")||""},H.default.createElement("span",{ref:n})))}))};He.displayName="DateInput",exports.DateInput=He,exports.default=He,exports.styles=Ue;
//# sourceMappingURL=index.js.map
