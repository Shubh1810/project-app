"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../_tslib-63a8c591.js"),n=require("react"),t=require("../index-bbbc0e2e.js"),o=require("../colors-8d82536b.js"),l=require("classnames"),a=require("libphonenumber-js"),u=require("../BaseInput/index.js"),r=require("../styleInject-c3042c68.js"),i=require("../BaseInput.module-cf58b553.js"),s=require("../constants-27ef0f3f.js"),c=require("../useUniqueId-129c23df.js");require("../useBreakpoints-bac94a72.js");var d=require("react-select");function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("../Icons/ChevronS1Down.js"),require("../Icons.module-3a3f2c15.js"),require("../Icons/CloseS2.js"),require("../Icons/CloseS1.js"),require("../Icons/Checkmark.js"),require("../Icons/AlertError.js");var _=p(n),m=p(l),h=e.__assign(e.__assign({},t.styles),{menu:function(n,l){return e.__assign(e.__assign(e.__assign({},n),t.styles.menu&&t.styles.menu(n,l)),{marginTop:(a=1,"".concat((.8*a).toFixed(1),"rem")),borderTop:"1px solid ".concat(l.selectProps.errorMessage?o.colors.red800:o.colors.blue800),borderTopLeftRadius:2,borderTopRightRadius:2,width:"auto"});var a},menuList:function(n,o){return e.__assign(e.__assign(e.__assign({},n),t.styles.menuList&&t.styles.menuList(n,o)),{borderTop:"none",width:"auto"})},option:function(n,o){return e.__assign(e.__assign(e.__assign({},n),t.styles.option&&t.styles.option(n,o)),{whiteSpace:"nowrap",minWidth:"22rem"})}}),g="PhoneInput-module_phoneInput__265J2",f="PhoneInput-module_select__2ONhw",b="PhoneInput-module_selectDark__1DTSA",I="PhoneInput-module_prefix__2lxJF",v="PhoneInput-module_selectReplacementPrefix__xa1OE",P="PhoneInput-module_label__265c5",C="PhoneInput-module_input__1USKV",S="PhoneInput-module_phoneOption__2s69O",y="PhoneInput-module_countryCodeSelect__15YI1",w="PhoneInput-module_selectReplacementLabel__3niOz",x="PhoneInput-module_selectReplacementPhoneInput__2Mtom",k="PhoneInput-module_selectLabel__1rmtd",E="@charset \"UTF-8\";\n/*\n * \n * ðŸš§ THIS FILE HAS BEEN DEPRECATED ðŸš§\n * \n * We are migrating from Sass variables to CSS Custom Properties (aka CSS variables: https: //developer.mozilla.org/en-US/docs/Web/CSS/--*).\n * This file will be in maintenance mode until the migration is complete and will remove after that. \n * \n * Please use the color tokens found in _tokens.scss.\n * \n * If there are any questions, reach out to us in #threads-open slack channel.\n * \n */\n.PhoneInput-module_phoneInput__265J2 .PhoneInput-module_select__2ONhw {\n  -webkit-appearance: none;\n          appearance: none;\n  background: transparent url(\"data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M.47 1.53 1.53.47 6 4.94 10.47.47l1.06 1.06L6 7.06.47 1.53Z' fill='%23767676'/%3E%3C/svg%3E\");\n  background-position: right 1.4rem top 2rem;\n  background-repeat: no-repeat;\n  color: var(--color-text-high-contrast);\n  cursor: pointer;\n  line-height: 4.6rem;\n  padding-left: 1.6rem;\n  padding-right: 3.2rem;\n  width: 11.6rem;\n}\n.PhoneInput-module_phoneInput__265J2 .PhoneInput-module_select__2ONhw:focus {\n  border-color: var(--color-border-state-focused);\n  background-image: url(\"data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='m6 .94 5.53 5.53-1.06 1.06L6 3.06 1.53 7.53.47 6.47 6 .94Z' fill='%23111'/%3E%3C/svg%3E\");\n  background-position: right 1.4rem top 1.9rem;\n}\n.PhoneInput-module_phoneInput__265J2 .PhoneInput-module_select__2ONhw[disabled] {\n  background-color: var(--input-bg-disabled);\n  color: var(--input-text-disabled);\n}\n.PhoneInput-module_phoneInput__265J2 .PhoneInput-module_selectDark__1DTSA {\n  color: var(--phone-input-dark-text);\n}\n.PhoneInput-module_phoneInput__265J2 .PhoneInput-module_prefix__2lxJF {\n  padding-left: 0;\n}\n.PhoneInput-module_phoneInput__265J2 .PhoneInput-module_selectReplacementPrefix__xa1OE {\n  margin-bottom: 0;\n  width: 11.6rem;\n}\n.PhoneInput-module_phoneInput__265J2 .PhoneInput-module_label__265c5 {\n  margin-left: 12.4rem;\n}\n.PhoneInput-module_phoneInput__265J2 .PhoneInput-module_input__1USKV {\n  margin-left: 12.4rem;\n  padding-left: 1.6rem;\n}\n.PhoneInput-module_phoneInput__265J2 .PhoneInput-module_phoneOption__2s69O {\n  width: 300rem;\n}\n\n.PhoneInput-module_countryCodeSelect__15YI1 {\n  margin-bottom: 0;\n}\n.PhoneInput-module_countryCodeSelect__15YI1 .PhoneInput-module_selectReplacementLabel__3niOz {\n  margin-left: 0;\n}\n\n.PhoneInput-module_selectReplacementPhoneInput__2Mtom .PhoneInput-module_input__1USKV,\n.PhoneInput-module_selectReplacementPhoneInput__2Mtom .PhoneInput-module_label__265c5 {\n  margin-left: 12.4rem;\n}\n\n.PhoneInput-module_selectLabel__1rmtd {\n  position: absolute;\n}";r.styleInject(E);var q=function(o){var l=o.callingCodeLabel,r=void 0===l?"Country code":l,p=o.countryCodeList,E=void 0===p?s.SUPPORTED_COUNTRIES:p,q=o.disabled,L=o.id,N=o.isDarkMode,j=o.onChange,O=o.phoneNumberLabel,D=void 0===O?"Phone number":O,T=o.value,R=o.renderNativeSelect,F=void 0===R?/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent):R,J=e.__rest(o,["callingCodeLabel","countryCodeList","disabled","id","isDarkMode","onChange","phoneNumberLabel","value","renderNativeSelect"]),M=n.useState(!1),U=M[0],B=M[1],A=c.useUniqueId("calling-code-input"),K=c.useUniqueId("phone-input"),V=null==T||0===T.length?E[0].callingCode:a.formatIncompletePhoneNumber(T).split(" ")[0],Y=_.default.useState((null==T?void 0:T.replace(V,""))||""),z=Y[0],W=Y[1];n.useEffect((function(){W((null==T?void 0:T.replace(V,""))||"")}),[T,V]);var H=E.map((function(n){return e.__assign(e.__assign({},n),{label:"".concat(n.icon," ").concat(n.callingCode),longLabel:"".concat(n.name," ").concat(n.callingCode),value:n.callingCode})})),Z=H.find((function(e){return e.callingCode===V}))||H[0],G=new a.AsYouType(Z.code||"US").input(z),Q=function(e){j("".concat(e.value).concat(z.length>0?z:""))};return _.default.createElement(u.BaseInput,e.__assign({},J,{id:L||K,value:U?z:G,isDarkMode:N,disabled:q,autoComplete:"tel",inputMode:"tel",type:"tel",onBlur:function(){B(!1)},onFocus:function(){B(!0)},onChange:function(e){var n=e.target.value.replace(/[^0-9]+/g,"");j("".concat(V).concat(n)),W(n)},onKeyPress:function(e){/[^0-9]/.test(e.key)&&e.preventDefault()},label:D,className:m.default(g,!F&&x),inputClassName:C,labelClassName:P,prefixClassName:m.default(I,!F&&v),prefix:function(e){var n=e.onFocus,o=e.onBlur;return F?_.default.createElement(_.default.Fragment,null,_.default.createElement("label",{htmlFor:A,className:m.default(i.baseStyles.floatLabel,N&&i.baseStyles.floatLabelDark,k)},r),_.default.createElement("select",{className:m.default(i.baseStyles.input,i.baseStyles.select,i.baseStyles["prefix-input"],f,N&&b),disabled:q,id:A,onChange:function(e){var n=e.target;Q(H.find((function(e){return e.callingCode===n.value})))},value:Z.value},H.map((function(e){return _.default.createElement("option",{key:e.code,value:e.callingCode,className:S,"aria-label":"".concat(e.name," +").concat(e.callingCode)},"".concat(V===e.callingCode?e.icon:e.name," ").concat(e.callingCode))})))):_.default.createElement(t.Select,{className:y,customStyles:h,defaultValue:Z,disabled:q,filterOption:d.createFilter({matchFrom:"any",stringify:function(e){return"".concat(e.label," ").concat(e.value," ").concat(e.data.name)}}),id:A,isDarkMode:N,label:r,labelClassName:w,onFocus:n,onBlur:o,onChange:function(e){Q(e)},value:Z,options:H,formatOptionLabel:function(e,n){var t=e.longLabel,o=e.label;return"menu"===n.context?t:o}})}}))};q.displayName="PhoneInput",exports.PhoneInput=q,exports.default=q;
//# sourceMappingURL=index.js.map
