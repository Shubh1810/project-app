"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../_tslib-63a8c591.js"),n=require("react"),o=require("classnames"),t=require("react-popper"),r=require("focus-trap-react"),a=require("../useOutsideClick-08f361f3.js"),l=require("../styleInject-c3042c68.js"),s=require("../Portal/index.js");function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("react-dom"),require("../Theme/index.js");var u=i(n),d=i(o),c=i(r),p="PopoverHeader-module_popoverHeader___LYf7",m='@charset "UTF-8";\n/*\n * \n * ðŸš§ THIS FILE HAS BEEN DEPRECATED ðŸš§\n * \n * We are migrating from Sass variables to CSS Custom Properties (aka CSS variables: https: //developer.mozilla.org/en-US/docs/Web/CSS/--*).\n * This file will be in maintenance mode until the migration is complete and will remove after that. \n * \n * Please use the color tokens found in _tokens.scss.\n * \n * If there are any questions, reach out to us in #threads-open slack channel.\n * \n */\n/*------------------------------------*\\\n  #PopoverHeader\n\\*------------------------------------*/\n.PopoverHeader-module_popoverHeader___LYf7 {\n  margin-bottom: 1.6rem;\n}';l.styleInject(m);l.styleInject("");var f="PopoverFooter-module_popoverFooter__xpzAV",v="PopoverFooter-module_popoverFooterChild__13YEJ",h='@charset "UTF-8";\n/*\n * \n * ðŸš§ THIS FILE HAS BEEN DEPRECATED ðŸš§\n * \n * We are migrating from Sass variables to CSS Custom Properties (aka CSS variables: https: //developer.mozilla.org/en-US/docs/Web/CSS/--*).\n * This file will be in maintenance mode until the migration is complete and will remove after that. \n * \n * Please use the color tokens found in _tokens.scss.\n * \n * If there are any questions, reach out to us in #threads-open slack channel.\n * \n */\n/*------------------------------------*\\\n  #PopoverFooter\n\\*------------------------------------*/\n.PopoverFooter-module_popoverFooter__xpzAV {\n  border-top: 1px solid #f6f6f6;\n  padding-top: 1.6rem;\n  margin-top: 1.6rem;\n  text-align: end;\n}\n\n.PopoverFooter-module_popoverFooterChild__13YEJ:not(:last-child) {\n  margin-right: 0.8rem;\n}';l.styleInject(h);var E={_getCss:function(){return _},popover:"Popover-module_popover__FEZZl"},_='@charset "UTF-8";\n/*\n * \n * ðŸš§ THIS FILE HAS BEEN DEPRECATED ðŸš§\n * \n * We are migrating from Sass variables to CSS Custom Properties (aka CSS variables: https: //developer.mozilla.org/en-US/docs/Web/CSS/--*).\n * This file will be in maintenance mode until the migration is complete and will remove after that. \n * \n * Please use the color tokens found in _tokens.scss.\n * \n * If there are any questions, reach out to us in #threads-open slack channel.\n * \n */\n/*------------------------------------*\\\n  #Popover\n\\*------------------------------------*/\n.Popover-module_popover__FEZZl {\n  padding: 1.6rem;\n  border: 1px solid var(--color-border-default-contrast);\n  box-shadow: 0 1.6rem 2.4rem 0 rgba(17, 17, 17, 0.08);\n  background-color: var(--color-fill-bg-primary);\n  z-index: 1000;\n  max-width: 40rem;\n}';l.styleInject(_);var S=function(){return"undefined"!=typeof window},g=function(o){var r=o.children,l=o.className,i=o.isOpen,p=void 0!==i&&i,m=o.targetElement,f=o.label,v=o.setOpen,h=o.onClose,_=o.onOutsideClick,g=n.useState(null),b=g[0],P=g[1],C=n.useState([0,4]),y=C[0],k=C[1];a.useOutsideClick(b,(function(){v(!1),_&&_()})),n.useEffect((function(){var e=function(e){p&&"Escape"===e.key&&v(!1)};return S()&&window.addEventListener("keydown",e),function(){S()&&window.removeEventListener("keydown",e)}}),[p,v]);var F=t.usePopper(m,b,{placement:"bottom",modifiers:[{name:"offset",options:{offset:y}}]});return n.useEffect((function(){if(null!==b&&null!==m){var e=(null==m?void 0:m.getBoundingClientRect()).width,n=(null==b?void 0:b.getBoundingClientRect()).width;k([(n-e)/2,4])}}),[m,b]),n.useEffect((function(){return function(){null!==b&&void 0!==h&&!0===p&&h()}}),[p,h,v,b]),u.default.createElement(u.default.Fragment,null,p&&u.default.createElement(s.Portal,{className:"portal-popover"},u.default.createElement(c.default,null,u.default.createElement("div",e.__assign({role:"dialog"},F.attributes.popper,{style:F.styles.popper,className:d.default(E.popover,l),ref:P,"arial-label":f,"arial-hidden":!p||void 0}),r))))};g.displayName="Popover",g.Header=function(e){var n=e.children,o=e.className;return u.default.createElement("header",{className:d.default(p,o)},n)},g.Body=function(e){var n=e.children,o=e.className;return u.default.createElement("div",{className:d.default(o)},n)},g.Footer=function(e){var n=e.children,o=e.className;return u.default.createElement("footer",{className:d.default(f,o)},u.default.Children.map(n,(function(e){var n;return u.default.isValidElement(e)?u.default.cloneElement(e,{className:d.default(null===(n=null==e?void 0:e.props)||void 0===n?void 0:n.className,v)}):null})))},exports.Popover=g,exports.default=g,exports.styles=E;
//# sourceMappingURL=index.js.map
